{"remainingRequest":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\VueProjects\\screenshots\\src\\components\\admin\\Detail.vue?vue&type=style&index=0&id=0f1caa7e&scoped=scoped&lang=css&","dependencies":[{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\src\\components\\admin\\Detail.vue","mtime":1598953836874},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pbWdDb257Cgl3aWR0aDogOTBweDsKCWhlaWdodDogMTc1cHg7CgkvKiBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7ICovCgkvKiBtYXJnaW4tcmlnaHQ6IDExcHg7CgltYXJnaW4tYm90dG9tOiAzMnB4OyAqLwoJbWFyZ2luOiAyMHB4IDEwcHg7CglmbG9hdDogbGVmdDsKCWJveC1zaGFkb3c6IDAgMCAxMHB4ICM5MDkzOTk7Cn0KLmltZ05hbWV7Cgl3aWR0aDogMTAwcHg7Cglmb250LXNpemU6IDEycHg7CgkvKiBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjsgKi8KCWNvbG9yOiAjMzAzMTMzOwoJd2hpdGUtc3BhY2U6IG5vcm1hbDsKCXRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwoJb3ZlcmZsb3c6IGhpZGRlbjsKCWxpbmUtaGVpZ2h0OiAxMnB4OwoJaGVpZ2h0OiAyNHB4OwoJCgltYXJnaW4tdG9wOiA1cHg7Cn0KLnBhZ2luYXRpb257Cglwb3NpdGlvbjogYWJzb2x1dGU7Cglib3R0b206IDVweDsKCXdpZHRoOiA4MCU7CgltYXJnaW4tbGVmdDogMTAlOwp9Ci5kb3dsb2FkewoJcG9zaXRpb246IGFic29sdXRlOwoJdG9wOiAxOHB4OwoJcmlnaHQ6IDVweDsKCWZsb2F0OiByaWdodDsKfQo="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\r\n<div>\r\n<el-form  label-width=\"60px\" class=\"demo-ruleForm\">\r\n\t<el-form-item label=\"标题\" >\r\n\t    <el-select v-model=\"taskId\" placeholder=\"选择要查看的标题\">\r\n\t      <el-option\r\n\t              v-for=\"item in taskList\"\r\n\t              :key=\"item.sstId\"\r\n\t              :label=\"item.info\"\r\n\t              :value=\"item.sstId\">\r\n\t      </el-option>\r\n\t    </el-select>\r\n\t </el-form-item>\r\n</el-form>\r\n<el-button class=\"dowload\" type=\"success\" v-on:click=\"download()\" :disabled=\"disabled\">Download All</el-button>\r\n\t<div class=\"imgCon\" v-for=\"(item, index) in imgUrl.slice((currentPage-1) * pageSize,currentPage * pageSize)\" :key=\"item.scrnshtId\">\r\n\t\t<div class=\"demo-image__preview\">\r\n\t\t<el-image \r\n\t\t\tstyle=\"width: 90px; height: 190px\"\r\n\t\t\t:src=\"item.path\" \r\n\t\t\t:preview-src-list=\"item.srcList\">\r\n\t\t</el-image>\r\n\t\t</div>\r\n\t\t<div class=\"imgName\">{{item.studentidScrnsht+'-'+item.student.stuName}}</div>\r\n\t</div>\r\n\t<div style=\"width: 100%;\">\r\n\t<el-pagination class=\"pagination\"\n\t\tbackground\n\t\tlayout=\"prev, pager, next\"\r\n\t\t:current-page=\"currentPage\"\r\n\t\t@current-change=\"currentChangeHandle\"\n\t\t:total=\"total\" :page-size=\"pageSize\">\n\t</el-pagination>\r\n\t</div>\r\n</div>\n</template>\n\n<script>\r\nexport default {\r\n\tdata() {\r\n\t  return {\r\n\t\t  imgUrl:[\r\n\t\t\t //  {url: 'http://localhost:8081/ssss/img/数学与计算机科学学院/计算机科学与技术-2017计算机科学与技术/201713453131袁宇林.png',\r\n\t\t\t //  srcList: [\r\n\t\t\t //    'http://localhost:8081/ssss/img/1597909069174/201713453131袁宇林.png'\r\n\t\t\t\t// ],\r\n\t\t\t\t// id:1\r\n\t\t\t //  },\r\n\t\t\t\r\n\t\t  ],\r\n\t\tdisabled:true,\r\n\t\ttaskId:'',\r\n\t\ttaskList:[\r\n\t\t\t\r\n\t\t],\r\n\t\ttotal:100,\r\n\t\tpageSize:5,\r\n\t\tcurrentPage:1\r\n\t  }\r\n\t},\r\n\tmethods:{\r\n\t\tasync getTasks(){\r\n\t\t\tlet token =  {'mntName':window.sessionStorage.getItem('token')}\r\n\t\t\tlet {data: res} = await this.$http.post('/task/tasks',token)\r\n\t\t\tthis.taskList = res\r\n\t\t\t// console.log(res)\r\n\t\t},\r\n\t\tcurrentChangeHandle(currentPage){\r\n\t\t\tthis.currentPage = currentPage\r\n\t\t},\r\n\t\tasync findAll(){\r\n\t\t\tlet {data:res} = await this.$http.get('/screenshot/findAll',{\r\n\t\t\t\tparams:{taskId:this.taskId}\r\n\t\t\t})\r\n\t\t\tthis.imgUrl = res\r\n\t\t},\r\n\t\tasync download(){\r\n\t\t\tlet {data:res} = await this.$http.get('/monitor/download',{\r\n\t\t\t\tparams:{taskId:this.taskId}\r\n\t\t\t})\r\n\t\t\tif(res.code === 0){\r\n\t\t\t\twindow.open(res.data)\r\n\t\t\t}else{\r\n\t\t\t\tthis.$message.error(\"下载失败~\")\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\t\r\n\t\tthis.getTasks()\r\n\t},\r\n\twatch:{\r\n\t\ttaskId: async function(){\r\n\t\t\tlet {data:res} = await this.$http.get('/screenshot/findAll',{\r\n\t\t\t\tparams:{taskId:this.taskId}\r\n\t\t\t})\r\n\t\t\tthis.imgUrl = res\r\n\t\t\tthis.total = res.length\r\n\t\t\t// console.log(res)\r\n\t\t}\r\n\t}\r\n  }\r\n</script>\n\n<style scoped=\"scoped\">\r\n\t.imgCon{\r\n\t\twidth: 90px;\r\n\t\theight: 175px;\r\n\t\t/* background-color: red; */\r\n\t\t/* margin-right: 11px;\r\n\t\tmargin-bottom: 32px; */\r\n\t\tmargin: 20px 10px;\r\n\t\tfloat: left;\r\n\t\tbox-shadow: 0 0 10px #909399;\r\n\t}\r\n\t.imgName{\r\n\t\twidth: 100px;\r\n\t\tfont-size: 12px;\r\n\t\t/* background-color: green; */\r\n\t\tcolor: #303133;\r\n\t\twhite-space: normal;\r\n\t\ttext-overflow: ellipsis;\r\n\t\toverflow: hidden;\r\n\t\tline-height: 12px;\r\n\t\theight: 24px;\r\n\t\t\r\n\t\tmargin-top: 5px;\r\n\t}\r\n\t.pagination{\r\n\t\tposition: absolute;\r\n\t\tbottom: 5px;\r\n\t\twidth: 80%;\r\n\t\tmargin-left: 10%;\r\n\t}\r\n\t.dowload{\r\n\t\tposition: absolute;\r\n\t\ttop: 18px;\r\n\t\tright: 5px;\r\n\t\tfloat: right;\r\n\t}\n</style>\n"]}]}