{"remainingRequest":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\VueProjects\\screenshots\\src\\components\\screenshots.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\src\\components\\screenshots.vue","mtime":1598854727651},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvUHVibGljL1Z1ZVByb2plY3RzL3NjcmVlbnNob3RzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJzY3JlZW5zaG90cyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRva2VuOiB7CiAgICAgICAgdG9rZW46IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgIH0sCiAgICAgIGhpZGRlbjogZmFsc2UsCiAgICAgIHRhc2tMaXN0OiBbXSwKICAgICAgc2NyZWVuc2hvdDogewogICAgICAgIHBhdGg6ICcnLAogICAgICAgIHN1Ym1pdHRlZDogdHJ1ZSwKICAgICAgICB0YXNraWRTY3Juc2h0OiAnJywKICAgICAgICBzdHVkZW50aWRTY3Juc2h0OiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSwgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgIHRoaXMuaGlkZGVuID0gdHJ1ZTsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlc3BvbnNlLm1zZyk7CiAgICB9LAogICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGVyciwgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgIH0sCiAgICBpc1VwbG9hZGVkOiBmdW5jdGlvbiBpc1VwbG9hZGVkKGZpbGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpcyQkaHR0cCRnZSwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5nZXQoJy9zY3JlZW5zaG90L2lzdXBsb2FkZWQnLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIHRhc2tJZDogX3RoaXMuc2NyZWVuc2hvdC50YXNraWRTY3Juc2h0CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkJGh0dHAkZ2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzJCRodHRwJGdlLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDlpoLmnpzov5Tlm57nu5PmnpzkuLp0cnVl5piv54+t6ZW/77yM5bCx6Lez6L2sCiAgICBwdXNoVXJsOiBmdW5jdGlvbiBwdXNoVXJsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMyJCRodHRwJGcsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGh0dHAuZ2V0KCcvc3R1ZGVudC9pc21vbml0b3InKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMiQkaHR0cCRnID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMyJCRodHRwJGcuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAocmVzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJy9hZG1pbicpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLndhcm5pbmcoIuayoeacieiuv+mXruadg+mZkCIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmoLnmja7nj63plb9pZOiOt+WPluaJgOacieaIquWbvuS7u+WKoe+8jOiuqeWQjOWtpumAieaLqQogICAgZ2V0VGFza3M6IGZ1bmN0aW9uIGdldFRhc2tzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciB0b2tlbiwgX3lpZWxkJF90aGlzMyQkaHR0cCRwLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0b2tlbiA9IHsKICAgICAgICAgICAgICAgICAgJ21udE5hbWUnOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGh0dHAucG9zdCgnL3Rhc2svdGFza3MnLCB0b2tlbik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczMkJGh0dHAkcCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzMyQkaHR0cCRwLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczMudGFza0xpc3QgPSByZXM7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VGFza3MoKTsKICB9Cn07"},{"version":3,"sources":["screenshots.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AAAA,QAAA,KAAA,EAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,OAAA;AAAA,OADA;AAEA,MAAA,MAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAMA,MAAA,UAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA,IAFA;AAGA,QAAA,aAAA,EAAA,EAHA;AAIA,QAAA,gBAAA,EAAA;AAJA;AANA,KAAA;AAaA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,QADA,EACA,IADA,EACA,QADA,EACA;AACA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,QAAA,CAAA,GAAA;AACA,KALA;AAMA,IAAA,KANA,iBAMA,GANA,EAMA,IANA,EAMA,QANA,EAMA;AACA,WAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA;AACA,KARA;AASA,IAAA,UATA,sBASA,IATA,EASA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,wBAAA,EAAA;AACA,kBAAA,MAAA,EAAA;AAAA,oBAAA,MAAA,EAAA,KAAA,CAAA,UAAA,CAAA;AAAA;AADA,iBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,GADA,yBACA,IADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KApBA;AAqBA;AACA,IAAA,OAtBA,qBAsBA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,KAAA,CAAA,GAAA,CAAA,oBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,GADA,yBACA,IADA;;AAEA,oBAAA,GAAA,KAAA,IAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,iBAFA,MAEA;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,QAAA;AACA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KA9BA;AA+BA;AACA,IAAA,QAhCA,sBAgCA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KADA,GACA;AAAA,6BAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,OAAA;AAAA,iBADA;AAAA;AAAA,uBAEA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,aAAA,EAAA,KAAA,CAFA;;AAAA;AAAA;AAEA,gBAAA,GAFA,yBAEA,IAFA;AAGA,gBAAA,MAAA,CAAA,QAAA,GAAA,GAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AApCA,GAjBA;AAuDA,EAAA,OAvDA,qBAuDA;AAEA,SAAA,QAAA;AACA;AA1DA,CAAA","sourcesContent":["<template>\r\n<div>\r\n    <el-upload\r\n            class=\"upload-demo login-box\"\r\n            drag\r\n            action=\"http://127.0.0.1:8081/ssss/screenshot/upload\"\r\n            multiple :on-success=\"success\" :on-error=\"error\" :before-upload=\"isUploaded\" \r\n\t\t\t:data=\"screenshot\"\r\n\t\t\t:headers=\"token\">\r\n\t\t\t<div class=\"el-upload__tip\" slot=\"tip\">\r\n\t\t\t\t<el-select v-model=\"screenshot.taskidScrnsht\" placeholder=\"请选择要提交的标题\" size=\"mini\" class=\"selectTask\">\r\n\t\t\t\t    <el-option\r\n\t\t\t\t      v-for=\"item in taskList\"\r\n\t\t\t\t      :key=\"item.sstId\"\r\n\t\t\t\t      :label=\"item.info\"\r\n\t\t\t\t      :value=\"item.sstId\"\r\n\t\t\t\t      :disabled=\"item.disabled\">\r\n\t\t\t\t    </el-option>\r\n\t\t\t\t  </el-select>\r\n\t\t\t\t  <div class=\"el-upload__tip admin\" slot=\"tip\" @click=\"pushUrl()\">\r\n\t\t\t\t\t  <el-button type=\"infor\" size=\"mini\" class=\"monitor\">\r\n\t\t\t\t\t\t  班长？点击这里\r\n\t\t\t\t\t  </el-button>\r\n\t\t\t\t  </div>\r\n\t\t\t</div>\r\n        <i class=\"el-icon-upload\" :hidden=\"hidden\"></i>\r\n        <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n        <!-- <div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/png文件，且不超过500kb</div> -->\r\n\t\t\r\n\t\t\r\n    </el-upload>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"screenshots\",\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\ttoken:{token:window.sessionStorage.getItem(\"token\")},\r\n\t\t\t\thidden:false,\r\n\t\t\t\ttaskList:[\r\n\t\t\t\t\t\r\n\t\t\t\t],\r\n\t\t\t\tscreenshot:{\r\n\t\t\t\t\tpath:'',\r\n\t\t\t\t\tsubmitted: true,\r\n\t\t\t\t\ttaskidScrnsht:'',\r\n\t\t\t\t\tstudentidScrnsht:''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tsuccess(response, file, fileList){\r\n\t\t\t\t// console.log(response)\r\n\t\t\t\tthis.hidden = true\r\n\t\t\t\tthis.$message.success(response.msg)\r\n\t\t\t},\r\n\t\t\terror(err, file, fileList){\r\n\t\t\t\tthis.$message.error(err.msg)\r\n\t\t\t},\r\n\t\t\tasync isUploaded(file){\r\n\t\t\t\tlet {data:res} = await this.$http.get('/screenshot/isuploaded',{\r\n\t\t\t\t\tparams:{taskId:this.screenshot.taskidScrnsht}\r\n\t\t\t\t})\r\n\t\t\t\t// console.log(res)\r\n\t\t\t\t// if(res===false){\r\n\t\t\t\t// \tthis.$message.warning(\"你已经提交过了，不用重复提交\")\r\n\t\t\t\t// \treturn false\r\n\t\t\t\t// }else{ \r\n\t\t\t\t// \treturn false\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\t// 如果返回结果为true是班长，就跳转\r\n\t\t\tasync pushUrl(){\r\n\t\t\t\tlet {data:res} =await this.$http.get('/student/ismonitor')\r\n\t\t\t\tif(res===true){\r\n\t\t\t\t\tthis.$router.push('/admin')\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message.warning(\"没有访问权限\")\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 根据班长id获取所有截图任务，让同学选择\r\n\t\t\tasync getTasks(){\r\n\t\t\t\tlet token =  {'mntName':window.sessionStorage.getItem('token')}\r\n\t\t\t\tlet {data: res} = await this.$http.post('/task/tasks',token)\r\n\t\t\t\tthis.taskList = res\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t\r\n\t\t\tthis.getTasks();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n    .login-box {\r\n        border: 1px solid #DCDFE6;\r\n        width: 350px;\r\n        margin: 180px auto;\r\n        padding: 35px 35px 15px 35px;\r\n        border-radius: 5px;\r\n        -webkit-border-radius: 5px;\r\n        -moz-border-radius: 5px;\r\n        box-shadow: 0 0 25px #909399;\r\n    }\r\n\t.admin{\r\n\t\tfloat: right;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\t.selectTask{\r\n\t\twidth: 70%;\r\n\t}\r\n\t.monitor{\r\n\t\tmargin: 0 0;\r\n\t\tpadding: 0 0;\r\n\t}\r\n\t\r\n</style>"],"sourceRoot":"src/components"}]}