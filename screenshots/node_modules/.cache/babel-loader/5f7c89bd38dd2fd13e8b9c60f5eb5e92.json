{"remainingRequest":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\VueProjects\\screenshots\\src\\components\\admin\\Task.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\src\\components\\admin\\Task.vue","mtime":1598941707819},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Public\\VueProjects\\screenshots\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvUHVibGljL1Z1ZVByb2plY3RzL3NjcmVlbnNob3RzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBydWxlRm9ybTogewogICAgICAgIGluZm86ICcnLAogICAgICAgIGRlYWRsaW5lOiAnJywKICAgICAgICBkYXRlMjogJycsCiAgICAgICAgdHlwZTogJycsCiAgICAgICAgcHJlY2F1dGlvbnM6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgaW5mbzogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpea0u+WKqOWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDMsCiAgICAgICAgICBtYXg6IDE1LAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puWcqCAzIOWIsCAxNSDkuKrlrZfnrKYnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgZGVhZGxpbmU6IFt7CiAgICAgICAgICB0eXBlOiAnZGF0ZScsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nml6XmnJ8nLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBkYXRlMjogW3sKICAgICAgICAgIHR5cGU6ICdkYXRlJywKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeaXtumXtCcsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIHR5cGU6IFt7CiAgICAgICAgICB0eXBlOiAnYXJyYXknLAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36Iez5bCR6YCJ5oup5LiA5Liq5rS75Yqo5oCn6LSoJywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgcHJlY2F1dGlvbnM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnmtLvliqjlvaLlvI8nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdmFyIHRlcm0gPSBfdGhpcy5ydWxlRm9ybS5kYXRlMjsKICAgICAgICAgIHZhciB0aW1lID0gX3RoaXMucnVsZUZvcm0uZGVhZGxpbmU7CiAgICAgICAgICB0aW1lLnNldEhvdXJzKHRlcm0uZ2V0SG91cnMoKSk7CiAgICAgICAgICB0aW1lLnNldE1pbnV0ZXModGVybS5nZXRNaW51dGVzKCkpOwogICAgICAgICAgdGltZS5zZXRTZWNvbmRzKHRlcm0uZ2V0U2Vjb25kcygpKTsKICAgICAgICAgIHRpbWUuc2V0TWlsbGlzZWNvbmRzKHRlcm0uZ2V0TWlsbGlzZWNvbmRzKCkpOwogICAgICAgICAgX3RoaXMucnVsZUZvcm0uZGVhZGxpbmUgPSB0aW1lLnZhbHVlT2YoKTsgLy8gY29uc29sZS5sb2codGhpcy5ydWxlRm9ybSkKCiAgICAgICAgICBfdGhpcy5jcmVhdFRhc2soKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjcmVhdFRhc2s6IGZ1bmN0aW9uIGNyZWF0VGFzaygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMyJCRodHRwJHAsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRodHRwLnBvc3QoJy90YXNrL2NyZWF0ZScsIF90aGlzMi5ydWxlRm9ybSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczIkJGh0dHAkcCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMyJCRodHRwJHAuZGF0YTsKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7ZWxzZSBfdGhpczIuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Task.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,EAHA;AAKA,QAAA,IAAA,EAAA,EALA;AAMA,QAAA,WAAA,EAAA;AANA,OADA;AASA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,GAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA,gBAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CADA;AAKA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,IAAA,EAAA,MAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CALA;AAQA,QAAA,KAAA,EAAA,CACA;AAAA,UAAA,IAAA,EAAA,MAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CARA;AAWA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,IAAA,EAAA,OAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,aAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CAXA;AAcA,QAAA,WAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AAdA;AATA,KAAA;AA4BA,GA9BA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,QADA,EACA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,cAAA,IAAA,GAAA,KAAA,CAAA,QAAA,CAAA,KAAA;AACA,cAAA,IAAA,GAAA,KAAA,CAAA,QAAA,CAAA,QAAA;AACA,UAAA,IAAA,CAAA,QAAA,CAAA,IAAA,CAAA,QAAA,EAAA;AACA,UAAA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA,UAAA,EAAA;AACA,UAAA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA,UAAA,EAAA;AACA,UAAA,IAAA,CAAA,eAAA,CAAA,IAAA,CAAA,eAAA,EAAA;AAEA,UAAA,KAAA,CAAA,QAAA,CAAA,QAAA,GAAA,IAAA,CAAA,OAAA,EAAA,CARA,CASA;;AACA,UAAA,KAAA,CAAA,SAAA;AAEA,SAZA,MAYA;AACA;AACA,iBAAA,KAAA;AACA;AACA,OAjBA;AAkBA,KApBA;AAqBA,IAAA,SArBA,uBAqBA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,cAAA,EAAA,MAAA,CAAA,QAAA,CADA;;AAAA;AAAA;AACA,gBAAA,GADA,yBACA,IADA;AAGA,oBAAA,GAAA,CAAA,IAAA,KAAA,CAAA,EACA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EADA,KAGA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AA5BA;AA/BA,CAAA","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n\t\t  <el-form-item label=\"标题\" prop=\"info\">\r\n\t\t    <el-input v-model=\"ruleForm.info\"></el-input>\r\n\t\t  </el-form-item>\r\n\t\t  <el-form-item label=\"截止时间\" required>\r\n\t\t    <el-col :span=\"11\">\r\n\t\t      <el-form-item prop=\"deadline\">\r\n\t\t        <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"ruleForm.deadline\" style=\"width: 100%;\"></el-date-picker>\r\n\t\t      </el-form-item>\r\n\t\t    </el-col>\r\n\t\t    <el-col class=\"line\" :span=\"2\">-</el-col>\r\n\t\t    <el-col :span=\"11\">\r\n\t\t      <el-form-item prop=\"date2\">\r\n\t\t        <el-time-picker placeholder=\"选择时间\" v-model=\"ruleForm.date2\" style=\"width: 100%;\"></el-time-picker>\r\n\t\t      </el-form-item>\r\n\t\t    </el-col>\r\n\t\t  </el-form-item>\r\n\t\t <!-- <el-form-item label=\"截图格式\" prop=\"type\">\r\n\t\t    <el-checkbox-group v-model=\"ruleForm.type\">\r\n\t\t      <el-checkbox label=\"png\" name=\"type\"></el-checkbox>\r\n\t\t      <el-checkbox label=\"jpeg\" name=\"type\"></el-checkbox>\r\n\t\t    </el-checkbox-group> -->\r\n\t\t  </el-form-item>\r\n\t\t  <el-form-item label=\"注意事项\" prop=\"precautions\">\r\n\t\t    <el-input type=\"textarea\" v-model=\"ruleForm.precautions\"></el-input>\r\n\t\t  </el-form-item>\r\n\t\t  <el-form-item>\r\n\t\t    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">立即创建</el-button>\r\n\t\t    <el-button ><router-link to=\"/history\">历史记录</router-link></el-button>\r\n\t\t  </el-form-item>\r\n\t\t</el-form>\r\n\t</div>\n</template>\n\n<script>\nexport default {\n  data() {\r\n        return {\r\n          ruleForm: {\r\n            info: '',\r\n            deadline: '',\r\n            date2: '',\r\n            \r\n            type: '',\r\n            precautions: ''\r\n          },\r\n          rules: {\r\n            info: [\r\n              { required: true, message: '请输入活动名称', trigger: 'blur' },\r\n              { min: 3, max: 15, message: '长度在 3 到 15 个字符', trigger: 'blur' }\r\n            ],\r\n            deadline: [\r\n              { type: 'date', required: true, message: '请选择日期', trigger: 'change' }\r\n            ],\r\n            date2: [\r\n              { type: 'date', required: true, message: '请选择时间', trigger: 'change' }\r\n            ],\r\n            type: [\r\n              { type: 'array', required: true, message: '请至少选择一个活动性质', trigger: 'change' }\r\n            ],\r\n            precautions: [\r\n              { required: true, message: '请填写活动形式', trigger: 'blur' }\r\n            ]\r\n          }\r\n        };\r\n      },\r\n      methods: {\r\n        submitForm(formName) {\r\n          this.$refs[formName].validate((valid) => {\r\n            if (valid) {\r\n\t\t\t\tlet term = this.ruleForm.date2\r\n\t\t\t\tlet time = this.ruleForm.deadline\r\n\t\t\t\ttime.setHours(term.getHours())\r\n\t\t\t\ttime.setMinutes(term.getMinutes())\r\n\t\t\t\ttime.setSeconds(term.getSeconds())\r\n\t\t\t\ttime.setMilliseconds(term.getMilliseconds())\r\n\t\t\t\t\r\n\t\t\t\tthis.ruleForm.deadline = time.valueOf()\r\n\t\t\t\t// console.log(this.ruleForm)\r\n\t\t\t\tthis.creatTask()\r\n\t\t\t\t\r\n            } else {\r\n              // console.log('error submit!!');\r\n              return false;\r\n            }\r\n          });\r\n        },\r\n\t\tasync creatTask(){\r\n\t\t\tlet {data:res} = await this.$http.post('/task/create',this.ruleForm)\r\n\t\t\t\r\n\t\t\tif(res.code === 0)\r\n\t\t\t  this.$message.success(res.msg)\r\n\t\t\telse\r\n\t\t\t  this.$message.error(res.msg)\r\n\t\t}\r\n      }\r\n    }\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/components/admin"}]}